# Directus on Vercel - Environment Configuration

# ========== Database Configuration ==========
# 使用 Vercel Postgres 时，获取连接字符串
DB_CLIENT=pg
DB_HOST=${DB_HOST}
DB_PORT=${DB_PORT}
DB_DATABASE=${DB_DATABASE}
DB_USER=${DB_USER}
DB_PASSWORD=${DB_PASSWORD}

# ========== Directus Core ==========
# 生成安全的 SECRET: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SECRET=your-super-secret-key-change-in-production

# 你的 Directus 前端地址（Vercel 部署后的地址）
PUBLIC_URL=https://directus-yourdomain.vercel.app

# ========== 管理员账户 ==========
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=ChangeMe@2024!

# ========== CORS 配置 ==========
CORS_ENABLED=true
# 允许你的前端域名（用逗号分隔多个域名）
CORS_ORIGIN=https://yourdomain.vercel.app,https://www.yourdomain.com,http://localhost:3000
CORS_METHODS=GET,POST,PATCH,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization
CORS_CREDENTIALS=true

# ========== WebSocket 配置 ==========
WEBSOCKETS_ENABLED=true
WEBSOCKETS_REST_ENABLED=true
WEBSOCKETS_GRAPHQL_ENABLED=false

# ========== 文件存储 ==========
# 在 Vercel 上使用本地存储（临时存储）
# 生产环境建议使用 S3 或其他对象存储
STORAGE_LOCATIONS=local
STORAGE_LOCAL_ROOT=/tmp/directus-uploads

# ========== 限流配置 ==========
RATE_LIMITER_ENABLED=true
RATE_LIMITER_POINTS=100
RATE_LIMITER_DURATION=1

# ========== 日志 ==========
LOG_LEVEL=info
