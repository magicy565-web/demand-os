# Accio 框架设计文档

**版本**: v1.0  
**日期**: 2026-02-07  
**目标**: 搭建完整的 AI Agent 智能体系统，对标 Accio

---

## 🎯 系统定位

**中国产业园的海外寻源 + 工厂委托开发智能体系统**

### 核心价值
- 🌍 **海外寻源**：连接海外需求和国内工厂
- 🏭 **工厂委托开发**：从需求到量产的全流程支持
- 🤖 **AI Agent**：自动化采购决策和工厂匹配
- 💬 **对话式交互**：自然语言构建和执行工作流

---

## 🏗️ 系统架构

### 三层架构

**用户界面层**
- Chat UI（对话界面）
- 工作流编辑器
- Agent 市场
- 数据看板

**Agent 引擎层**
- 工作流执行引擎
- 意图识别
- 节点调度
- 结果聚合

**数据源层**
- 工厂数据库（Directus）
- TikTok API
- 海关数据 API
- 市场趋势数据库

---

## 🤖 Agent 工作流引擎

### 工作流 JSON Schema

```typescript
interface AgentWorkflow {
  id: string;
  name: string;
  description: string;
  category: string;
  nodes: WorkflowNode[];
  edges: WorkflowEdge[];
}

interface WorkflowNode {
  id: string;
  type: string;
  label: string;
  config: any;
  position: { x: number; y: number };
}
```

### 节点类型

1. **输入节点**：用户输入
2. **数据源节点**：查询数据
3. **AI 节点**：智能分析
4. **条件节点**：分支判断
5. **转换节点**：数据处理
6. **输出节点**：结果展示

---

## 📦 预置 Agent 模板

### 1. 海外寻源 Agent
- 输入：TikTok 链接、产品描述
- 输出：工厂推荐、报价方案

### 2. 工厂委托开发 Agent
- 输入：产品需求、规格要求
- 输出：工厂匹配、开发周期、成本估算

### 3. 产能分析 Agent
- 输入：工厂 ID、时间范围
- 输出：产能利用率、可用产能

### 4. 订单匹配 Agent
- 输入：订单需求
- 输出：工厂分配方案

---

## 🎨 工作流可视化编辑器

### 技术栈
- React Flow
- Monaco Editor
- Zustand

### 核心功能
1. 节点库（拖拽添加）
2. 画布（连接节点）
3. 配置面板（编辑属性）
4. 代码视图（JSON 编辑）
5. 调试工具（单步执行）

---

## 🏪 Agent 市场

### 功能
1. 模板浏览（分类、搜索）
2. 模板详情（预览、说明）
3. 一键使用（复制、配置）
4. 自定义分享（修改、保存）

---

## 📊 数据源集成

### 已集成
- Directus（工厂数据库）
- Nova AI（AI 能力）
- TikTok（视频分析）

### 待集成
- TikTok Official API
- 海关数据 API
- 市场趋势数据库

---

## 🚀 实施计划

### Phase 1：核心引擎（1-2周）
- Agent 工作流引擎
- 基础节点类型
- 执行调度器

### Phase 2：Agent 模板（1-2周）
- 4 个预置模板
- 模板选择界面
- 参数配置

### Phase 3：可视化编辑器（2-3周）
- React Flow 集成
- 节点库
- 配置面板

### Phase 4：Agent 市场（1周）
- 模板浏览
- 搜索筛选
- 一键使用

### Phase 5：数据源集成（1-2周）
- 统一数据源接口
- API 集成
- 缓存优化

### Phase 6：测试优化（1周）
- 功能测试
- 性能优化
- 文档完善

---

## 📝 总结

**目标**：打造对标 Accio 的 AI Agent 智能体系统

**核心差异化**：
- 专注中国产业园
- 海外寻源 + 工厂开发
- 自有工厂数据库

**预计时间**：6-9 周完成完整框架
