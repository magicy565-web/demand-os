# Showrooms预订系统 - 测试用例速查表

## 快速访问
```
开发服务器: http://localhost:3000/showrooms
生产服务器: https://demand-os.vercel.app/showrooms (部署后)
```

---

## 场景 1: 完整成功预订流程

### 前置条件
- 开发服务器已启动
- 网络连接正常

### 测试步骤

```
1. 访问 http://localhost:3000/showrooms
   ✓ 页面加载完毕
   ✓ 看到左侧3D展厅和右侧预订面板

2. 点击楼层选择（例如：1F）
   ✓ 楼层被高亮
   ✓ 右侧面板显示该楼层信息

3. 点击一个可预订的区域（绿色标签）
   ✓ 区域被选中
   ✓ 显示区域详情和日均价格

4. 选择日期范围
   - 开始日期: 2026-02-15
   - 结束日期: 2026-02-20
   ✓ 天数正确计算: 5天
   ✓ 价格更新: 5000 × 5 = 25,000

5. 点击"Reserve Zone"
   ✓ 预订表单对话框打开
   ✓ 显示已选信息（只读）

6. 填写表单
   - 姓名: 张三
   - 公司: ABC公司
   - 职位: 销售经理
   - 邮箱: admin@example.com
   - 电话: 13800138000
   - 微信: wechat_id (可选)
   ✓ 所有字段已填

7. 选择展会类型: 产品展示
   ✓ 下拉菜单正确打开

8. 输入参展人数: 50
   ✓ 接受输入

9. 输入特殊需求: 需要特殊展示平台
   ✓ 文本框可编辑

10. 选择增值服务
    ✓ 装修服务 (¥5,000)
    ✓ 物流支持 (¥3,000)
    ✓ 总价更新: 25,000 + 5,000 + 3,000 = 33,000

11. 点击"提交预订"
    ✓ 表单提交成功
    ✓ 显示预订号: BK-YYYYMMDD-XXXX

12. 查看确认页面
    ✓ 预订号显示正确
    ✓ 所有信息完整显示
    ✓ 状态: 待确认
```

### 预期结果
✅ 预订流程完整
✅ 价格计算准确
✅ 数据保存成功

---

## 场景 2: 表单验证 - 空表单

### 操作
```
1. 打开预订对话框
2. 不填写任何内容
3. 直接点击"提交预订"
```

### 预期结果
```
验证错误显示:
✓ 姓名: "姓名至少2个字符"
✓ 公司: "公司名称至少2个字符"
✓ 邮箱: "请输入有效的邮箱地址"
✓ 电话: "请输入有效的手机号码"
✓ 展会类型: "请选择展会类型"
✓ 参展人数: "参展人数至少为1"

表单行为:
✓ 不允许提交
✓ 焦点移至第一个错误字段
✓ 错误信息清晰可见
```

---

## 场景 3: 表单验证 - 无效邮箱

### 测试用例

| 邮箱输入 | 结果 | 说明 |
|---------|------|------|
| `invalid` | ❌ | 缺少@符号 |
| `test@` | ❌ | 缺少域名 |
| `test@domain` | ❌ | 缺少后缀 |
| `test@domain.com` | ✅ | 标准格式 |
| `user.name@example.co.uk` | ✅ | 复杂有效格式 |
| `user+tag@domain.com` | ✅ | 带加号 |

### 操作流程
```
1. 填写基本信息（姓名、公司等）
2. 在邮箱字段输入无效邮箱
3. 点击"提交预订"
4. 观察错误提示
```

### 预期结果
```
✓ 显示错误: "请输入有效的邮箱地址"
✓ 表单不提交
✓ 其他有效信息保留
```

---

## 场景 4: 表单验证 - 无效手机号

### 测试用例

| 电话输入 | 长度 | 结果 | 说明 |
|---------|------|------|------|
| `123` | 3 | ❌ | 太短 |
| `1234567890` | 10 | ❌ | 太短 |
| `13800138000` | 11 | ✅ | 标准格式 |
| `138001380000` | 12 | ❌ | 太长 |
| `1a800138000` | 11 | ❌ | 包含字母 |

### 操作流程
```
1. 填写基本信息
2. 在电话字段输入无效号码
3. 点击"提交预订"
4. 观察错误提示
```

### 预期结果
```
✓ 显示错误: "请输入有效的手机号码"
✓ 表单不提交
✓ 必须是11位数字
```

---

## 场景 5: 价格计算 - 基础预订

### 场景设置
```
- 选择区域: 1F-A区 (日均价格 ¥5,000)
- 开始日期: 2026-02-15
- 结束日期: 2026-02-20
- 天数: 5天
```

### 价格计算
```
基础总价 = 日均价格 × 天数
         = 5,000 × 5
         = 25,000 元

增值服务: 0 元

合计: ¥25,000
```

### 验证步骤
```
1. 选择日期后检查天数计算
   ✓ 显示: 5天
2. 检查价格更新
   ✓ 显示: ¥25,000
3. 选择区域后重新检查
   ✓ 基础价格正确更新
```

---

## 场景 6: 价格计算 - 包含增值服务

### 场景设置
```
- 基础总价: ¥25,000
- 增值服务选择:
  ✓ 装修服务: ¥5,000
  ✓ 物流支持: ¥3,000
  ✓ 翻译服务: ¥2,000
```

### 价格计算
```
基础总价:        ¥25,000
+ 装修服务:      ¥5,000
+ 物流支持:      ¥3,000
+ 翻译服务:      ¥2,000
─────────────────────────
合计:           ¥35,000
```

### 验证步骤
```
1. 选择装修服务
   ✓ 合计更新为 ¥30,000

2. 选择物流支持
   ✓ 合计更新为 ¥33,000

3. 选择翻译服务
   ✓ 合计更新为 ¥35,000

4. 取消装修服务
   ✓ 合计更新为 ¥30,000

5. 最终合计
   ✓ 显示 ¥30,000
```

---

## 场景 7: 日期验证

### 测试用例

| 开始日期 | 结束日期 | 结果 | 说明 |
|---------|---------|------|------|
| 2026-02-15 | 2026-02-20 | ✅ | 正常范围 |
| 2026-02-15 | 2026-02-15 | ✅ | 1天预订 |
| 2026-02-20 | 2026-02-15 | ❌ | 无效顺序 |
| 2026-02-01 | 2026-02-10 | ✓ | 过去日期（系统相关） |

### 验证步骤
```
1. 尝试选择结束日期早于开始日期
   ✓ 日期选择器禁用
   或 ✓ 显示错误提示

2. 选择有效日期范围
   ✓ 天数自动计算
   ✓ 价格自动更新

3. 尝试选择相同日期
   ✓ 允许并计为1天
   ✓ 价格计算正确
```

---

## 场景 8: 特殊字符支持

### 测试用例

```
字段 | 输入值 | 预期结果
----|-------|--------
姓名 | 李明-Zhang | ✅ 接受
公司 | 北京ABC科技有限公司 | ✅ 接受
邮箱 | user+tag@example.com | ✅ 接受
需求 | 需要 & 展示 / 照明 | ✅ 接受
```

### 验证步骤
```
1. 输入中文名字
   ✓ 正确显示
   
2. 输入特殊字符（-、&、/等）
   ✓ 正确保存
   
3. 提交表单
   ✓ 确认页面正确显示所有字符
```

---

## 场景 9: 参展人数验证

### 测试用例

| 参展人数 | 结果 | 错误信息 |
|---------|------|---------|
| 0 | ❌ | 参展人数至少为1 |
| 1 | ✅ | - |
| 50 | ✅ | - |
| 1000 | ✅ | - |
| 1001 | ❌ | 参展人数不能超过1000 |
| abc | ❌ | 必须是数字 |

### 验证步骤
```
1. 输入0
   ✓ 显示最小值错误

2. 输入1-1000之间的值
   ✓ 接受

3. 输入1001
   ✓ 显示最大值错误

4. 输入非数字
   ✓ 字段自动清除或拒绝
```

---

## 场景 10: 3D组件性能

### 测试步骤
```
1. 打开showrooms页面
   ✓ 3D组件加载（或显示备用UI）
   ✓ 页面加载时间 < 3秒

2. 在3D视图中旋转
   ✓ 流畅响应
   ✓ 60 FPS或更高

3. 缩放视图
   ✓ 无延迟
   ✓ 清晰度保持

4. 切换楼层
   ✓ 楼层快速切换（< 500ms）
   ✓ 无卡顿

5. 选择区域
   ✓ 区域高亮立即响应
   ✓ UI更新流畅
```

### 性能检查
```
打开浏览器开发工具 (F12) → Performance标签:
✓ FPS > 30 (理想 60)
✓ 无长任务 (> 50ms)
✓ CPU使用 < 80%
✓ 内存使用稳定
```

---

## 场景 11: 错误恢复 - 网络失败

### 模拟网络离线
```
1. 打开开发工具 (F12)
2. 切换到 Network 标签
3. 勾选 "Offline"
4. 尝试提交预订表单
```

### 预期结果
```
✓ 显示网络错误提示
✓ 表单数据不丢失
✓ 用户可以重试
✓ 恢复网络后可重新提交
```

---

## 场景 12: 浏览器兼容性

### 测试浏览器

| 浏览器 | 版本 | 状态 |
|--------|------|------|
| Chrome | 最新 | ✅ 必须支持 |
| Edge | 最新 | ✅ 必须支持 |
| Firefox | 最新 | ✅ 建议支持 |
| Safari | 最新 | ⚠️ 可选 |

### 验证步骤
```
1. 在每个浏览器上测试关键流程
   ✓ 表单提交
   ✓ 价格计算
   ✓ 日期选择

2. 检查界面显示
   ✓ 无布局错乱
   ✓ 文字可读
   ✓ 按钮可点击

3. 查看浏览器控制台
   ✓ 无错误消息
   ✓ 无警告信息
   ✓ 无崩溃现象
```

---

## 快速测试检查清单 ✅

### 功能检查
- [ ] 楼层选择工作正常
- [ ] 区域选择工作正常
- [ ] 日期选择工作正常
- [ ] 价格自动计算
- [ ] 增值服务价格计算
- [ ] 表单提交成功
- [ ] 预订号生成正确
- [ ] 确认页面显示完整

### 验证检查
- [ ] 空表单显示所有错误
- [ ] 邮箱验证正确
- [ ] 手机号验证正确
- [ ] 日期验证正确
- [ ] 参展人数验证正确

### 性能检查
- [ ] 页面加载快速
- [ ] 3D交互流畅
- [ ] 无明显延迟
- [ ] 内存使用合理

### 兼容性检查
- [ ] Chrome/Edge
- [ ] Firefox
- [ ] 移动设备（可选）

### 错误处理
- [ ] 网络错误处理
- [ ] 3D加载失败降级
- [ ] 无崩溃现象

---

## 常见问题排查

| 问题 | 解决方案 |
|------|---------|
| 3D不显示 | 正常 - 显示备用UI，功能无影响 |
| 价格计算错误 | 检查：日期 × 价格 + 增值服务 |
| 表单无法提交 | 检查必填字段、邮箱格式、手机号位数 |
| 日期选不了 | 确保结束日期 > 开始日期 |
| 页面加载慢 | 清除缓存、检查网络 |
| 开发服务器启动失败 | 3000端口被占用 - 使用其他端口或杀死占用进程 |

---

祝你测试顺利！😊
