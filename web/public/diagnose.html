<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿«é€Ÿè¯Šæ–­ - Showrooms æ»šåŠ¨</title>
    <style>
        body { font-family: monospace; background: #000; color: #0f0; padding: 20px; }
        .box { border: 1px solid #0f0; padding: 10px; margin: 10px 0; }
        button { background: #0f0; color: #000; border: none; padding: 8px 15px; cursor: pointer; }
        pre { background: #111; padding: 10px; overflow-x: auto; }
    </style>
</head>
<body>
    <h2>ğŸ”§ Showrooms æ»šåŠ¨è¯Šæ–­</h2>
    <div class="box">
        <button onclick="diagnose()">è¿è¡Œè¯Šæ–­</button>
        <button onclick="testScroll()">æµ‹è¯•æ»šåŠ¨</button>
        <pre id="output"></pre>
    </div>

    <script>
        function diagnose() {
            let output = '=== SHOWROOMS é¡µé¢è¯Šæ–­ ===\n\n';
            
            // 1. æ£€æŸ¥é¡µé¢æ˜¯å¦åŠ è½½
            output += '1. é¡µé¢åŠ è½½çŠ¶æ€: ' + document.readyState + '\n';
            
            // 2. æŸ¥æ‰¾æ‰€æœ‰é«˜åº¦ä¸º700pxçš„å®¹å™¨
            output += '\n2. æŸ¥æ‰¾700pxé«˜åº¦å®¹å™¨:\n';
            const containers700 = Array.from(document.querySelectorAll('div')).filter(d => d.offsetHeight === 700);
            output += `   æ‰¾åˆ° ${containers700.length} ä¸ª\n`;
            containers700.forEach((c, i) => {
                const style = window.getComputedStyle(c);
                output += `   [${i}] overflow: ${style.overflow}, overflowY: ${style.overflowY}\n`;
                output += `       width: ${c.offsetWidth}, height: ${c.offsetHeight}\n`;
                output += `       scrollHeight: ${c.scrollHeight}, clientHeight: ${c.clientHeight}\n`;
                output += `       å¯æ»šåŠ¨: ${c.scrollHeight > c.clientHeight ? 'æ˜¯' : 'å¦'}\n`;
            });
            
            // 3. æŸ¥æ‰¾booking-panel
            output += '\n3. æŸ¥æ‰¾BookingPanelå†…å®¹:\n';
            const bookingHeader = document.body.textContent.includes('Global Exhibition Center');
            output += `   åŒ…å«"Global Exhibition Center": ${bookingHeader ? 'âœ“' : 'âœ—'}\n`;
            
            // 4. æŸ¥æ‰¾ScrollArea
            output += '\n4. æŸ¥æ‰¾ScrollArea:\n';
            const scrollAreas = document.querySelectorAll('[role="presentation"]');
            output += `   æ‰¾åˆ° ${scrollAreas.length} ä¸ª ScrollArea\n`;
            scrollAreas.forEach((sa, i) => {
                const style = window.getComputedStyle(sa);
                output += `   [${i}] h:${sa.offsetHeight}px scroll:${sa.scrollHeight}px overflow:${style.overflow}\n`;
            });
            
            // 5. æŸ¥æ‰¾æ‰€æœ‰å¯æ»šåŠ¨å…ƒç´ 
            output += '\n5. æ‰€æœ‰å¯æ»šåŠ¨å…ƒç´ :\n';
            const scrollable = Array.from(document.querySelectorAll('div')).filter(
                d => d.scrollHeight > d.clientHeight && d.offsetHeight > 0
            );
            output += `   æ‰¾åˆ° ${scrollable.length} ä¸ª\n`;
            scrollable.slice(0, 5).forEach((s, i) => {
                const h = s.offsetHeight;
                const sh = s.scrollHeight;
                const diff = sh - h;
                output += `   [${i}] h:${h}px sh:${sh}px (diff:${diff}px)\n`;
            });
            
            document.getElementById('output').textContent = output;
        }
        
        function testScroll() {
            let output = '=== æµ‹è¯•æ»šåŠ¨ ===\n\n';
            
            // æŸ¥æ‰¾æœ€æœ‰å¯èƒ½çš„å¯æ»šåŠ¨å®¹å™¨
            const containers700 = Array.from(document.querySelectorAll('div')).filter(d => d.offsetHeight === 700);
            
            if (containers700.length >= 2) {
                const rightPanel = containers700[1];
                const scrollable = rightPanel.scrollHeight > rightPanel.clientHeight;
                
                output += `å³ä¾§é¢æ¿:\n`;
                output += `  é«˜åº¦: ${rightPanel.offsetHeight}px\n`;
                output += `  å†…å®¹é«˜åº¦: ${rightPanel.scrollHeight}px\n`;
                output += `  å¯è§é«˜åº¦: ${rightPanel.clientHeight}px\n`;
                output += `  å¯æ»šåŠ¨: ${scrollable ? 'âœ“ æ˜¯' : 'âœ— å¦'}\n\n`;
                
                if (scrollable) {
                    output += 'å°è¯•æ»šåŠ¨åˆ°åº•éƒ¨...\n';
                    rightPanel.scrollTop = rightPanel.scrollHeight;
                    output += `æ»šåŠ¨ä½ç½®: ${rightPanel.scrollTop}px\n`;
                    output += `æœ€å¤§æ»šåŠ¨: ${rightPanel.scrollHeight - rightPanel.clientHeight}px\n`;
                } else {
                    output += 'å†…å®¹æœªè¶…å‡ºå®¹å™¨ï¼Œæ— éœ€æ»šåŠ¨\n';
                }
            } else {
                output += 'âŒ æœªæ‰¾åˆ°700pxé«˜åº¦çš„å®¹å™¨\n';
            }
            
            document.getElementById('output').textContent = output;
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨è¯Šæ–­
        window.addEventListener('load', function() {
            setTimeout(diagnose, 1000);
        });
    </script>
</body>
</html>
